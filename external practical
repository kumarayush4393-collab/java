import java.util.ArrayList;
import java.util.List;
import java.util.Scanner;


class Employee {
    private int id;
    private String name;
    private double salary;

    Employee(int id, String name, double salary) {
        this.id = id;
        this.name = name;
        this.salary = salary;
    }

    public int getId() { return id; }
    public void setName(String name) { this.name = name; }
    public void setSalary(double salary) { this.salary = salary; }

    @Override
    public String toString() {
        return "Employee { ID = " + id + ", Name = " + name + ", Salary = " + salary + " }";
    }
}


class MonitorThread extends Thread {
    List<Employee> employees;

    MonitorThread(List<Employee> employees) {
        this.employees = employees;
    }

    @Override
    public void run() {
        try {
            while (true) {
                System.out.println("[Monitor] Total Employees: " + employees.size());
                Thread.sleep(5000); // Every 5 sec
            }
        } catch (InterruptedException e) {
            System.out.println("Monitor thread stopped.");
        }
    }
}


public class EmployeeManagement {

    static List<Employee> employeeList = new ArrayList<>();

    public static void main(String[] args) {
        Scanner sc = new Scanner(System.in);

        // Start monitoring thread
        MonitorThread monitor = new MonitorThread(employeeList);
        monitor.start();

        while (true) {
            System.out.println("\n====== EMPLOYEE MANAGEMENT SYSTEM ======");
            System.out.println("1. Add Employee");
            System.out.println("2. Update Employee");
            System.out.println("3. Remove Employee");
            System.out.println("4. Display Employees");
            System.out.println("5. Exit");
            System.out.print("Enter choice: ");
            int choice = sc.nextInt();

            switch (choice) {
                case 1 -> addEmployee(sc);
                case 2 -> updateEmployee(sc);
                case 3 -> removeEmployee(sc);
                case 4 -> displayEmployees();
                case 5 -> {
                    System.out.println("Exiting...");
                    monitor.interrupt();
                    return;
                }
                default -> System.out.println("Invalid choice!");
            }
        }
    }

    static void addEmployee(Scanner sc) {
        System.out.print("Enter ID: ");
        int id = sc.nextInt();
        sc.nextLine(); // Clear buffer

        System.out.print("Enter Name: ");
        String name = sc.nextLine();

        System.out.print("Enter Salary: ");
        double salary = sc.nextDouble();

        employeeList.add(new Employee(id, name, salary));
        System.out.println("Employee added successfully!");
    }


    static void updateEmployee(Scanner sc) {
        System.out.print("Enter ID to update: ");
        int id = sc.nextInt();

        for (Employee emp : employeeList) {
            if (emp.getId() == id) {
                sc.nextLine();
                System.out.print("Enter new name: ");
                String name = sc.nextLine();

                System.out.print("Enter new salary: ");
                double salary = sc.nextDouble();

                emp.setName(name);
                emp.setSalary(salary);

                System.out.println("Employee updated successfully!");
                return;
            }
        }
        System.out.println("Employee ID not found!");
    }

  
    static void removeEmployee(Scanner sc) {
        System.out.print("Enter ID to remove: ");
        int id = sc.nextInt();

        employeeList.removeIf(emp -> emp.getId() == id);
        System.out.println("Employee removed (if ID existed).");
    }

    
    static void displayEmployees() {
        if (employeeList.isEmpty()) {
            System.out.println("No employees to display.");
            return;
        }

        System.out.println("\n--- Employee List ---");
        for (Employee emp : employeeList) {
            System.out.println(emp);
        }
    }
}
